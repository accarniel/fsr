<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="create_pgeometry() creates a pgeometry object from a data.frame or tibble object, a list of components, or a list of spatial plateau objects."><title>Create a pgeometry object with components — create_pgeometry • fsr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a pgeometry object with components — create_pgeometry"><meta property="og:description" content="create_pgeometry() creates a pgeometry object from a data.frame or tibble object, a list of components, or a list of spatial plateau objects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fsr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/accarniel/fsr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a <code>pgeometry</code> object with components</h1>
      <small class="dont-index">Source: <a href="https://github.com/accarniel/fsr/blob/HEAD/R/basic_functions.R" class="external-link"><code>R/basic_functions.R</code></a></small>
      <div class="d-none name"><code>create_pgeometry.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>create_pgeometry()</code> creates a <code>pgeometry</code> object from a <code>data.frame</code> or <code>tibble</code> object, a list of components, or a list of spatial plateau objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_pgeometry</span><span class="op">(</span><span class="va">x</span>, <span class="va">type</span>, is_valid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A list of <code>component</code> objects, a list of <code>pgeometry</code> objects or a <code>data.frame</code>/<code>tibble</code> object. For <code>PLATEAUPOINT</code>, <code>PLATEAULINE</code> and <code>PLATEAUREGION</code>, the type of each component must be the same for all components.</p></dd>


<dt>type</dt>
<dd><p>A character value that indicates the type of the desired <code>pgeometry</code> object.
It should be either <code>"PLATEAUPOINT"</code>, <code>"PLATEAULINE"</code>, <code>"PLATEAUREGION"</code>, <code>"PLATEAUCOMPOSITION"</code>, or <code>"PLATEAUCOLLECTION"</code>.
It must be compatible with the components given in <code>x</code> parameter.</p></dd>


<dt>is_valid</dt>
<dd><p>A Boolean value to check whether the user wants to validate the created spatial plateau object at the end. If <code>is_valid = TRUE</code>, it calls <code><a href="https://rdrr.io/r/methods/validObject.html" class="external-link">validObject()</a></code> method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>pgeometry</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>create_pgeometry()</code> is a flexible function that creates a <code>pgeometry</code> object by using the values given in <code>x</code>.
This object is built by using either a list of <code>component</code> objects, a list of <code>pgeometry</code> objects or a <code>data.frame</code> (or <code>tibble</code>) object.
If a <code>data.frame</code> or <code>tibble</code> object is given as input, its columns must have the following format: (i) first column is an <code>sfc</code> object, and
(ii) the second columns consists of the membership degree of each respective object of the <code>sfc</code> column.</p>
<p>By default, this function checks if the resulting spatial plateau object is valid.
That is, it checks whether all constraints defined by the Spatial Plateau Algebra are satisfied.
For instance, the components of a plateau point, plateau line, or plateau region must be adjacent or disjoint from each other and have to be unique membership degrees.</p>
<p>If you are sure that the component objects provided to this function satisfy all the constraints, then you can use <code>is_valid = FALSE</code> to improve the performance of this function.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><a href="https://onlinelibrary.wiley.com/doi/10.1111/tgis.13044" class="external-link">Carniel, A. C.; Venâncio, P. V. A. B; Schneider, M. fsr: An R package for fuzzy spatial data handling. Transactions in GIS, vol. 27, no. 3, pp. 900-927, 2023.</a></p>
<p>Underlying concepts and formal definitions of spatial plateau data types are explained in detail in:</p><ul><li><p><a href="https://ieeexplore.ieee.org/document/8491565" class="external-link">Carniel, A. C.; Schneider, M. Spatial Plateau Algebra: An Executable Type System for Fuzzy Spatial Data Types. In Proceedings of the 2018 IEEE International Conference on Fuzzy Systems (FUZZ-IEEE 2018), pp. 1-8, 2018.</a></p></li>
<li><p><a href="https://ieeexplore.ieee.org/document/9177620" class="external-link">Carniel, A. C.; Schneider, M. Spatial Data Types for Heterogeneously Structured Fuzzy Spatial Collections and Compositions. In Proceedings of the 2020 IEEE International Conference on Fuzzy Systems (FUZZ-IEEE 2020), pp. 1-8, 2020.</a></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Creating some components</span></span></span>
<span class="r-in"><span><span class="va">pts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Point components</span></span></span>
<span class="r-in"><span><span class="va">pcp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_multipoint</a></span><span class="op">(</span><span class="va">pts</span><span class="op">)</span>, <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pcp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"MULTIPOINT((2 2), (2 4), (2 0))"</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pcp3</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"MULTIPOINT((1 1), (3 1), (1 3), (3 3))"</span>, <span class="fl">0.9</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Line components</span></span></span>
<span class="r-in"><span><span class="va">lcp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"LINESTRING(0 0, 1 1.5)"</span>, <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lcp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"LINESTRING(1 3, 1 2, 2 0.5)"</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lcp3</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"LINESTRING(2 1.2, 3 1.6, 4 4)"</span>, <span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lcp4</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"LINESTRING(1 1.5, 2 1.2)"</span>, <span class="fl">1.0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Polygon components</span></span></span>
<span class="r-in"><span><span class="va">rcp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"POLYGON((0 0, 1 4, 2 2, 0 0))"</span>, <span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rcp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fsr_components.html">create_component</a></span><span class="op">(</span><span class="st">"POLYGON((2 0.5, 4 1, 4 0, 2 0.5))"</span>, <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Creating spatial plateau objects from lists of components</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pcp1</span>, <span class="va">pcp2</span>, <span class="va">pcp3</span><span class="op">)</span>, <span class="st">"PLATEAUPOINT"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pl</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lcp1</span>, <span class="va">lcp3</span>, <span class="va">lcp4</span><span class="op">)</span>, <span class="st">"PLATEAULINE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">rcp1</span>, <span class="va">rcp2</span><span class="op">)</span>, <span class="st">"PLATEAUREGION"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pcm</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pcp1</span>, <span class="va">pcp2</span>, <span class="va">lcp1</span>, <span class="va">lcp2</span>, <span class="va">lcp3</span>, <span class="va">rcp2</span><span class="op">)</span>, <span class="st">"PLATEAUCOMPOSITION"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Creating a spatial plateau objects from a list of spatial plateau objects</span></span></span>
<span class="r-in"><span><span class="va">pcl</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pp</span>, <span class="va">pr</span>, <span class="va">pcm</span><span class="op">)</span>, <span class="st">"PLATEAUCOLLECTION"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Converting pp into a tibble</span></span></span>
<span class="r-in"><span><span class="va">pp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PLATEAUPOINT ((MULTIPOINT ((0 2), (4 2)), 0.3), (MULTIPOINT ((2 2), (2 4), (2 0)), 0.5), (MULTIPOINT ((1 1), (3 1), (1 3), (3 3)), 0.9))"</span>
<span class="r-in"><span><span class="va">tibble_pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">pp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tibble_pp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       geometry    md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;MULTIPOINT&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>               ((0 2), (4 2))   0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>        ((2 2), (2 4), (2 0))   0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> ((1 1), (3 1), (1 3), (3 3))   0.9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Creating a spatial plateau point from the previous tibble</span></span></span>
<span class="r-in"><span><span class="va">equivalent_pp</span> <span class="op">&lt;-</span> <span class="fu">create_pgeometry</span><span class="op">(</span><span class="va">tibble_pp</span>, <span class="st">"PLATEAUPOINT"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">equivalent_pp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PLATEAUPOINT ((MULTIPOINT ((0 2), (4 2)), 0.3), (MULTIPOINT ((2 2), (2 4), (2 0)), 0.5), (MULTIPOINT ((1 1), (3 1), (1 3), (3 3)), 0.9))"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Anderson Carniel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer></div>

  

  

  </body></html>

